<div class="login-container">
  <div class="login-card">
    <h2>Dossiê</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">

      <!-- Login -->
      <div class="form-group">
        <label for="username">Login</label>
        <input
          type="text"
          id="username"
          placeholder="Ex: 1234567"
          formControlName="username"
          maxlength="7"
        />
        <small class="error" *ngIf="form.controls['username'].invalid && form.controls['username'].touched">
          Login inválido.
        </small>
      </div>

      <!-- Senha com olhinho padrão simples -->
      <div class="form-group password-group">
        <label for="password">Senha</label>
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          placeholder="Digite sua senha"
          formControlName="password"
        />
        <button type="button" class="toggle-password" (click)="showPassword = !showPassword">
          <span class="eye-icon" [class.eye-closed]="showPassword"></span>
        </button>
        <small class="error" *ngIf="form.controls['password'].invalid && form.controls['password'].touched">
          Senha obrigatória (mínimo 4 caracteres).
        </small>
      </div>

      <!-- Login Error -->
      <small class="login-error" *ngIf="loginError">
        Credenciais inválidas. Tente novamente.
      </small>

      <!-- Botão -->
      <button type="submit" [disabled]="form.invalid || loading" class="login-button">
        {{ loading ? 'Carregando...' : 'Entrar' }}
      </button>

    </form>
  </div>
</div>

